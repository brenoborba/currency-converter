<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- 
        api key: 0c71d310fb1565cfde6c
     -->

     <style>
         body{
             font-family: Arial, Helvetica, sans-serif;
         }

         .outputStyle{
             display: flex;
         }
     </style>
</head>
<body>
    <h1>USD para BRL</h1>
    <form action="." method="get" id="currencyForm">
        <label>
            USD:
            <input type="text" id="usdInput">
        </label>

        <br><br>

        <label class="outputStyle">
            BRL: 
            <div class="output"></div>
        </label>

        <br>

        <button type="submit">Calcular</button>
    </form>


    <script>
        const formulario = document.getElementById("currencyForm")
        const usdInput = document.getElementById("usdInput")
        const output = document.querySelector('.output')

        var query = 'USD_BRL'
        var url = 'https://free.currconv.com/api/v7/convert?q=USD_BRL,BRL_USD&compact=ultra&apiKey=0c71d310fb1565cfde6c';


        function displayResult(usdToday, usdValue){
            output.innerHTML = `\u00A0R$${Number(usdToday * usdValue).toFixed(2)}`

        }
        
        formulario.onsubmit = e => {
            var usdValue = usdInput.value
            var usdToday

            e.preventDefault()
            
            fetch(url)
            .then(res => res.json())
            .then(data => usdToday = data.USD_BRL)
            .then(() => displayResult(usdToday, usdValue))
        }
    </script>
</body>
</html>